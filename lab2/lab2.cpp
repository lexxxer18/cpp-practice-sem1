#include <cmath>
#include <iostream>

using namespace std;

/**
 * ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð½Ð°Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ ÑÑƒÐ¼Ð¼Ñ‹ Ñ€ÑÐ´Ð° Ñ Ð·Ð°Ð´Ð°Ð½Ð½Ð¾Ð¹ Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¼ÐµÑ‚Ð¾Ð´Ð°Ð¼Ð¸:
 * - Ñ€ÐµÐºÑƒÑ€Ñ€ÐµÐ½Ñ‚Ð½Ð¾Ð³Ð¾ ÑÐ¾Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ
 * - Ñ€Ð°ÑÑ‡ÐµÑ‚Ð° ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑÐ»Ð°Ð³Ð°ÐµÐ¼Ð¾Ð³Ð¾
 *
 * ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð²Ð²Ð¾Ð´Ð°-Ð²Ñ‹Ð²Ð¾Ð´Ð°:
 *
 * ðŸ”¢ðŸ” Ð Ð°ÑÑ‡ÐµÑ‚ ÑÑƒÐ¼Ð¼Ñ‹ Ñ€ÑÐ´Ð° Ð´Ð»Ñ 2*sin(x)^2 Ñ Ð·Ð°Ð´Ð°Ð½Ð½Ð¾Ð¹ Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒÑŽ
 *
 * ðŸ‘‰ Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ x: 1
 * âŒ Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ x Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð² Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ðµ (-1, 1). Ð’Ñ‹Ð±Ñ€Ð°Ð½Ð¾ Ð¿Ð¾-ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ 0.5
 * ðŸ‘‰ Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ epsilon: 0.0001
 * ðŸ‘‰ Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ‡Ð»ÐµÐ½Ð¾Ð² m Ñ€ÑÐ´Ð°: 10
 *
 * ðŸŒ€ ÐœÐµÑ‚Ð¾Ð´Ð¾Ð¼ Ñ€ÐµÐºÑƒÑ€Ñ€ÐµÐ½Ñ‚Ð½Ð¾Ð³Ð¾ ÑÐ¾Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ
 * ðŸ‘‰ ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ð°Ñ ÑÑƒÐ¼Ð¼Ð° S = 0.4596974206
 * ðŸ‘‰ ÐšÐ¾Ð»-Ð²Ð¾ Ñ‡Ð»ÐµÐ½Ð¾Ð² Ð² ÑÑƒÐ¼Ð¼Ðµ: 3 Ð¸Ð· 10
 *
 * ðŸ§® ÐœÐµÑ‚Ð¾Ð´Ð¾Ð¼ Ñ€Ð°ÑÑ‡ÐµÑ‚Ð° ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑÐ»Ð°Ð³Ð°ÐµÐ¼Ð¾Ð³Ð¾
 * ðŸ‘‰ ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ ÑÑƒÐ¼Ð¼Ð° S = 0.4596974206
 * ðŸ‘‰ ÐšÐ¾Ð»-Ð²Ð¾ Ñ‡Ð»ÐµÐ½Ð¾Ð² Ð² ÑÑƒÐ¼Ð¼Ðµ: 4 Ð¸Ð· 10
 *
 * âœ… ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ: 2*sin(x)^2 = 0.4596976941
 *
 */

// ÑƒÐºÐ°Ð¶ÐµÐ¼ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼Ñ‹Ð¹ Ñ‚Ð¸Ð¿ Ð´Ð°Ð½Ð½Ñ‹Ñ… long long Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ð¼Ð¸ Ñ‡Ð¸ÑÐ»Ð°Ð¼Ð¸
long long fact(int n) { return (n == 0 || n == 1) ? 1 : n * fact(n - 1); }

void recurrence(double x, double eps, int m) {
    double a = 2 * pow(x, 2);
    double sum = a;
    int i = 0;

    while (fabs(a) >= eps && i <= m) {
        a *= -pow(2 * x, 2) / ((2 * i + 3) * (2 * i + 4));
        sum += a;

        i++;
    }

    cout << "ðŸŒ€ ÐœÐµÑ‚Ð¾Ð´Ð¾Ð¼ Ñ€ÐµÐºÑƒÑ€Ñ€ÐµÐ½Ñ‚Ð½Ð¾Ð³Ð¾ ÑÐ¾Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ" << endl;
    cout << "ðŸ‘‰ ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ð°Ñ ÑÑƒÐ¼Ð¼Ð° S = " << sum << endl;
    cout << "ðŸ‘‰ ÐšÐ¾Ð»-Ð²Ð¾ Ñ‡Ð»ÐµÐ½Ð¾Ð² Ð² ÑÑƒÐ¼Ð¼Ðµ: " << i << " Ð¸Ð· " << m << endl;
}

void sequence(double x, double eps, int m) {
    double a = x, sum = 0;
    int i = 0;

    while (fabs(a) >= eps && i <= m) {
        a = pow(-1, i) * pow(2 * x, 2 * (i + 1)) / fact(2 * (i + 1));
        sum += a;

        i++;
    }

    cout << "ðŸ§® ÐœÐµÑ‚Ð¾Ð´Ð¾Ð¼ Ñ€Ð°ÑÑ‡ÐµÑ‚Ð° ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑÐ»Ð°Ð³Ð°ÐµÐ¼Ð¾Ð³Ð¾" << endl;
    cout << "ðŸ‘‰ ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ ÑÑƒÐ¼Ð¼Ð° S = " << sum << endl;
    cout << "ðŸ‘‰ ÐšÐ¾Ð»-Ð²Ð¾ Ñ‡Ð»ÐµÐ½Ð¾Ð² Ð² ÑÑƒÐ¼Ð¼Ðµ: " << i << " Ð¸Ð· " << m << endl;
}

int main() {
    setlocale(LC_ALL, "Russian");
    cout.precision(10);

    cout << "ðŸ”¢ðŸ” Ð Ð°ÑÑ‡ÐµÑ‚ ÑÑƒÐ¼Ð¼Ñ‹ Ñ€ÑÐ´Ð° Ð´Ð»Ñ 2*sin(x)^2 Ñ Ð·Ð°Ð´Ð°Ð½Ð½Ð¾Ð¹ Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒÑŽ" << endl;
    cout << endl;

    double x, eps;
    int m;

    cout << "ðŸ‘‰ Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ x: ";
    cin >> x;

    if (abs(x) >= 1) {
        cout << "âŒ Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ x Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð² Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ðµ (-1, 1). Ð’Ñ‹Ð±Ñ€Ð°Ð½Ð¾ Ð¿Ð¾-ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ 0.5"
             << endl;
        x = .5;
    }

    cout << "ðŸ‘‰ Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ epsilon: ";
    cin >> eps;
    cout << "ðŸ‘‰ Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ‡Ð»ÐµÐ½Ð¾Ð² m Ñ€ÑÐ´Ð°: ";
    cin >> m;
    cout << endl;

    recurrence(x, eps, m);
    cout << endl;
    sequence(x, eps, m);
    cout << endl;
    cout << "âœ… ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ: 2*sin(x)^2 = " << 2 * pow(sin(x), 2) << endl;
    cout << endl;

    return 0;
}
